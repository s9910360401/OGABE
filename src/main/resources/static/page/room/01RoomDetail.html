<!DOCTYPE html>
<html lang="en">

<head>
  <title>房間詳情</title>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="description" content="Colo Shop Template" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" />

  <link rel="stylesheet" type="text/css" href="../../styles/single_styles.css" />
  <link rel="stylesheet" type="text/css" href="../../styles/bootstrap4/bootstrap.min.css" />
  <link href="../../plugins/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" type="text/css" href="../../plugins/OwlCarousel2-2.2.1/owl.carousel.css" />
  <link rel="stylesheet" type="text/css" href="../../plugins/OwlCarousel2-2.2.1/owl.theme.default.css" />
  <link rel="stylesheet" type="text/css" href="../../plugins/OwlCarousel2-2.2.1/animate.css" />
  <link rel="stylesheet" type="text/css" href="../../styles/main_styles.css" />

  <!-- jQuery -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <!-- SweetAlert2 -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.2.0/sweetalert2.min.css" />
  <!-- AOS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/3.0.0-beta.6/aos.css"
    integrity="sha512-hoGlO+71fSG6lgS60I4bKvsFVB+bAnrVFDYlwSXoyNLppDcoupwJB7KbWq/63iACKn3gcgK9jMXd+T+YDeVrGQ=="
    crossorigin="anonymous" />
  <!-- bootstrap -->
  <link rel="stylesheet" type="text/css" href="../../styles/bootstrap4/bootstrap.min.css" />
  <!-- <link
      href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css"
      rel="stylesheet"
    /> -->
  <!-- datetimepicker -->
  <!-- <link
      href="https://cdn.bootcss.com/bootstrap-datetimepicker/4.17.47/css/bootstrap-datetimepicker.min.css"
      rel="stylesheet"
    /> -->
  <!-- font-awesome -->
  <link href="../../plugins/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
  <!-- breadcrumbs -->
  <link rel="stylesheet" type="text/css" href="../../styles//breadcrumbs.css" />
  <!-- base css -->
  <link rel="stylesheet" type="text/css" href="../../styles/base.css" />
  <!-- room css -->
  <link rel="stylesheet" type="text/css" href="../../styles/room/room.css" />
  <style>
    .form-check-input {
      position: relative !important;
      margin: 0 !important;
    }

    .form-control {
      height: 34px !important;
    }

    .modal-dialog {
      max-width: 800px !important;
      margin-top: 200px;
    }

    .w-10 {
      width: 10%;
    }

    .margin-r-20 {
      margin-right: 20px;
    }

    .margin-l-20 {
      margin-left: 20px;
    }

    .form-control {
      height: 34px !important;
    }

    .w-10 {
      width: 10%;
    }

    .margin-r-20 {
      margin-right: 20px;
    }

    .margin-l-20 {
      margin-left: 20px;
    }

    .body-h {
      height: 800px;
    }

    .btn-test {
      margin-top: 300px;
    }

    .date-input {
      height: 33px;
      padding: 6px 12px;
      width: 100%;
      border: #ced4da 1px solid;
      margin-top: 1px;
      border-radius: 4px;
    }
  </style>
</head>

<body>
  <!-- Header -->
  <div id="header"></div>
  <!-- Header -->
  <div class="container single_product_container">
    <!-- Breadcrumbs_start -->
    <div class="row">
      <div class="col">
        <div class="breadcrumbs d-flex flex-row align-items-center">
          <ul>
            <li><a href="/page/room/01room.index.html">寵物旅館首頁</a></li>

            <li class="active">
              <a href="#"><i class="fa fa-angle-right" aria-hidden="true"></i>房間詳情</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <!-- Breadcrumbs_end -->
    <!-- select_room_start -->
    <div class="row">
      <div class="col-lg-7">
        <div class="single_product_pics">
          <div class="row">

            <div class="col-lg-3 thumbnails_col order-lg-1 order-2">
              <div class="single_product_thumbnails">
                <ul class="detailImg">
                </ul>
              </div>
            </div>
            <div class="col-lg-9 image_col order-lg-2 order-1">
              <div class="single_product_image">
                <!-- <div class="single_product_image_background" style="background-image: url(/images/home/dog1.jpg)"></div> -->
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-5">
        <div class="product_details">
          <div class="product_details_title">
          </div>
          <div class="detail_price">
          </div>
          
          <div class="product_color">
            <span>設備詳情:</span>
            <ul>
              <li>
                <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="#A7754d" class="bi bi-inbox-fill"
                  viewBox="0 0 16 16">
                  <path
                    d="M4.98 4a.5.5 0 0 0-.39.188L1.54 8H6a.5.5 0 0 1 .5.5 1.5 1.5 0 1 0 3 0A.5.5 0 0 1 10 8h4.46l-3.05-3.812A.5.5 0 0 0 11.02 4H4.98zm-1.17-.437A1.5 1.5 0 0 1 4.98 3h6.04a1.5 1.5 0 0 1 1.17.563l3.7 4.625a.5.5 0 0 1 .106.374l-.39 3.124A1.5 1.5 0 0 1 14.117 13H1.883a1.5 1.5 0 0 1-1.489-1.314l-.39-3.124a.5.5 0 0 1 .106-.374l3.7-4.625z" />
                </svg>
              </li>
              <li>
                <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="#A7754d" class="bi bi-cup-fill"
                  viewBox="0 0 16 16">
                  <path fill-rule="evenodd"
                    d="M.11 3.187A.5.5 0 0 1 .5 3h13a.5.5 0 0 1 .488.608l-.22.991a3.001 3.001 0 0 1-1.3 5.854l-.132.59A2.5 2.5 0 0 1 9.896 13H4.104a2.5 2.5 0 0 1-2.44-1.958L.012 3.608a.5.5 0 0 1 .098-.42Zm12.574 6.288a2 2 0 0 0 .866-3.899l-.866 3.9Z" />
                </svg>
              </li>
              <li>
                <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="#A7754d" class="bi bi-webcam-fill"
                  viewBox="0 0 16 16">
                  <path
                    d="M6.644 11.094a.5.5 0 0 1 .356-.15h2a.5.5 0 0 1 .356.15c.175.177.39.347.603.496a7.166 7.166 0 0 0 .752.456l.01.006h.003A.5.5 0 0 1 10.5 13h-5a.5.5 0 0 1-.224-.947l.002-.001.01-.006a3.517 3.517 0 0 0 .214-.116 7.5 7.5 0 0 0 .539-.34c.214-.15.428-.319.603-.496ZM7 6.5a1 1 0 1 1 2 0 1 1 0 0 1-2 0Z" />
                  <path
                    d="M2 3a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2H2Zm6 1.5a2 2 0 1 1 0 4 2 2 0 0 1 0-4ZM12.5 7a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1Z" />
                </svg>
              </li>
            </ul>
          </div>
          <div class="product_color">
            <span>其他配備:</span>
            <ul>
              <li>
                <!-- 設備圖片 -->
                <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="#Eab464"
                  class="bi bi-house-heart-fill" viewBox="0 0 16 16">
                  <path
                    d="M7.293 1.5a1 1 0 0 1 1.414 0L11 3.793V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v3.293l2.354 2.353a.5.5 0 0 1-.708.707L8 2.207 1.354 8.853a.5.5 0 1 1-.708-.707L7.293 1.5Z" />
                  <path
                    d="m14 9.293-6-6-6 6V13.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V9.293Zm-6-.811c1.664-1.673 5.825 1.254 0 5.018-5.825-3.764-1.664-6.691 0-5.018Z" />
                </svg>
              </li>
              <li>
                <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="#Eab464"
                  class="bi bi-thermometer-half" viewBox="0 0 16 16">
                  <path d="M9.5 12.5a1.5 1.5 0 1 1-2-1.415V6.5a.5.5 0 0 1 1 0v4.585a1.5 1.5 0 0 1 1 1.415z" />
                  <path
                    d="M5.5 2.5a2.5 2.5 0 0 1 5 0v7.55a3.5 3.5 0 1 1-5 0V2.5zM8 1a1.5 1.5 0 0 0-1.5 1.5v7.987l-.167.15a2.5 2.5 0 1 0 3.333 0l-.166-.15V2.5A1.5 1.5 0 0 0 8 1z" />
                </svg>
              </li>
              <li>
                <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="#Eab464" class="bi bi-mic-fill"
                  viewBox="0 0 16 16">
                  <path d="M5 3a3 3 0 0 1 6 0v5a3 3 0 0 1-6 0V3z" />
                  <path
                    d="M3.5 6.5A.5.5 0 0 1 4 7v1a4 4 0 0 0 8 0V7a.5.5 0 0 1 1 0v1a5 5 0 0 1-4.5 4.975V15h3a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1h3v-2.025A5 5 0 0 1 3 8V7a.5.5 0 0 1 .5-.5z" />
                </svg>
              </li>
            </ul>
          </div>
        </div>
        <div style="padding-top: 50px; display: flex;align-items: center;">
          <div class="likeRoom">
            <div></div>
            <div id="likeRoom" class="single_product_image_background likeRoomIcon" style="width: 25px;height: 25px;">
            </div>
            <h6 class="likeText"></h6>
          </div>
          <button style="margin-left: 50px" class="btn btn-Reserve btn-outline-warning btn-lg" data-bs-toggle="modal"
            data-bs-target="#exampleModal">
            立即預定
          </button>

        </div>
      </div>
    </div>
    <!-- select_room_end -->
  </div>
  <!-- 房型介紹_start -->
  <div class="blogs">
    <article class="container margin-top-200">
      <div class="row">
        <ul class="col-md-12">
          <li class="home_atricle_page home_atricle_03">
            <ul class="row article_item">
              <li class="col row justify-content-center order2">
                <figure class="row justify-content-center align-items-center figure_img">
                  <img src="../../images/home/gallery-4.jpg" alt="" class="img_card" />
                </figure>
              </li>
              <li class="col row justify-content-center align-items-center order1 article-txt">
                <div class="article_txt">
                  <div class="num-title">
                    <h1 id="num_txt" class="num-txt">FIRST</h1>
                    <svg id="num-bg" xmlns="http://www.w3.org/2000/svg" width="106" height="76"
                      viewBox="0 0 106.094 76.399">
                      <path id="Path_150" data-name="Path 150"
                        d="M-308.835,2649.177V2624.2a12.573,12.573,0,0,0-1.681-6.284l-22.42-38.855a12.562,12.562,0,0,0-10.888-6.286h-71.1v76.4Z"
                        transform="translate(414.929 -2572.778)" fill="rgb(255, 211, 128)" />
                    </svg>
                  </div>
                  <h1>入住須知</h1>
                  <svg xmlns="http://www.w3.org/2000/svg" width="54.047" height="3" viewBox="0 0 54.047 3">
                    <line id="Line_9" data-name="Line 9" x2="54.047" transform="translate(0 1.5)" fill="none"
                      stroke="rgb(255, 211, 128)" stroke-miterlimit="10" stroke-width="3" />
                  </svg>
                  <p>
                    一、入住時間：每日 15:00 – 20:30 ｜ 退房時間：每日14:00前
                    (提早入住或延後退房將按照時數收取超時費)。
                  </p>
                  <p>
                    二、照護專員在場照護區間：11:45 – 21:20
                    (如有異動將提前徵詢飼主同意)。
                  </p>
                  <p>
                    三、需要持續專業醫療的寵物貴賓 (包含針筒注射、擠尿等)
                    不接受入住。
                  </p>
                </div>
              </li>
            </ul>
          </li>
          <li class="home_atricle_page home_atricle_04">
            <ul class="row article_item">
              <li class="col row justify-content-center align-items-center order1">
                <div class="article_txt">
                  <div class="num-title">
                    <h1 id="num_txt" class="num-txt">SECOND</h1>
                    <svg id="num-bg" xmlns="http://www.w3.org/2000/svg" width="106" height="76"
                      viewBox="0 0 106.094 76.399">
                      <path id="Path_150" data-name="Path 150"
                        d="M-308.835,2649.177V2624.2a12.573,12.573,0,0,0-1.681-6.284l-22.42-38.855a12.562,12.562,0,0,0-10.888-6.286h-71.1v76.4Z"
                        transform="translate(414.929 -2572.778)" fill="rgb(255, 211, 128)" />
                    </svg>
                  </div>
                  <h1>注意事項</h1>
                  <svg xmlns="http://www.w3.org/2000/svg" width="54.047" height="3" viewBox="0 0 54.047 3">
                    <line id="Line_9" data-name="Line 9" x2="54.047" transform="translate(0 1.5)" fill="none"
                      stroke="rgb(255, 211, 128)" stroke-miterlimit="10" stroke-width="3" />
                  </svg>
                  <p>
                    一、辦理入住時，請務必「預留 20
                    分鐘時間」讓我們與您進行寵物照護資料確認，也期望您能額外花幾分鐘親自與寵物們說說話再離開以減少毛小孩的緊張感。
                  </p>
                  <p>
                    二、初次來MoLife入住，須出示飼主的身分證供影印留檔，以及每位毛小孩保證金
                    1000 元。
                  </p>
                  <p>
                    三、建議攜帶一件主人的衣物物放置房內，家人的氣味可以增加毛小孩的安全感。
                  </p>
                </div>
              </li>
              <li class="col row justify-content-center order2">
                <div class="row justify-content-center align-items-center">
                  <div id="carouselExampleIndicators_home" class="carousel slide carousel-fade" data-ride="carousel">
                    <ol class="carousel-indicators" id="carousel-indicators-home">
                      <li data-target="#carouselExampleIndicators_home" data-slide-to="0" class="active"></li>
                      <li data-target="#carouselExampleIndicators_home" data-slide-to="1"></li>
                    </ol>
                    <div class="carousel-inner">
                      <div class="carousel-item active">
                        <img class="d-block w-100 img_card" src="../../images/home/gallery-2.jpg" alt="First slide" />
                      </div>
                      <div class="carousel-item">
                        <img class="d-block w-100 img_card" src="../../images/home/gallery-3.jpg" alt="Second slide" />
                      </div>
                    </div>
                  </div>
                </div>
              </li>
            </ul>
          </li>
        </ul>
      </div>
    </article>
  </div>
  <!-- 房型介紹_end -->
  <!-- 房型評論_start -->
  <div class="comment-section">
    <div class="container">
      <div class="review">
        <h2 class="R-title" style="color: #646e78">好評分享</h2>
        <div class="comment-section">
          <div class="media media-review">
            <div class="media-user">
              <img
                src="https://play-lh.googleusercontent.com/PCpXdqvUWfCW1mXhH1Y_98yBpgsWxuTSTofy3NGMo9yBTATDyzVkqU580bfSln50bFU"
                alt="" />
            </div>
            <div class="media-body">
              <div class="M-flex">
                <h2 class="title"><span> Git小貓 </span>21-05-2022</h2>
                <div class="rating-row">
                  <ul>
                    <li class=""><i class="fa fa-star"></i></li>
                    <li class=""><i class="fa fa-star"></i></li>
                    <li class=""><i class="fa fa-star"></i></li>
                    <li class=""><i class="fa fa-star"></i></li>
                    <li class=""><i class="fa fa-star"></i></li>
                  </ul>
                </div>
              </div>
              <div class="description">
                這間房間真是太棒了！它位於市中心，地理位置優越，環境安靜舒適，附近有許多美食和購物選擇。房間寬敞明亮，裝潢簡潔現代化，床墊柔軟舒適，讓人一夜好眠。浴室設備齊全，毛巾和盥洗用品都非常乾淨，而且每天都有專人打掃。另外，房東人非常友善熱情，提供了許多旅遊資訊和建議，讓我們的旅程更加順暢。總的來說，這是一次非常愉快的住宿體驗，強烈推薦！
              </div>
            </div>
          </div>
          <div class="media media-review">
            <div class="media-user">
              <img
                src="https://play-lh.googleusercontent.com/BHJZ6QhVjVpLRbEZK3fA5bUusXaYIn5VuyAWJc2g-O1bmKXWv-2GIh6o03MlHAfoLA"
                alt="" />
            </div>
            <div class="media-body">
              <div class="M-flex">
                <h2 class="title"><span> SQL海豚</span>11-09-2023</h2>
                <div class="rating-row">
                  <ul>
                    <li class=""><i class="fa fa-star"></i></li>
                    <li class=""><i class="fa fa-star"></i></li>
                    <li class=""><i class="fa fa-star"></i></li>
                    <li class=""><i class="fa fa-star-o"></i></li>
                    <li class=""><i class="fa fa-star-o"></i></li>
                  </ul>
                </div>
              </div>
              <div class="description">
                這間房間讓我感到驚艷！它的地理位置很方便，靠近公共交通和許多好吃的餐廳和商店。房間非常寬敞，裝潢也很時尚現代化，床上用品非常舒適，每晚都能有一個好夢。浴室也非常整潔，提供的毛巾和盥洗用品都很棒。另外，房東非常友善，熱情周到，提供了許多關於當地的建議和提示，讓我們更好地探索周圍的景點和活動。總體來說，這是一個非常愉快的住宿體驗，我肯定會再次入住這間房間。
              </div>
            </div>
          </div>
          <div class="media media-review">
            <div class="media-user">
              <img
                src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/fe/Apache_Tomcat_logo.svg/1200px-Apache_Tomcat_logo.svg.png"
                alt="" />
            </div>
            <div class="media-body">
              <div class="M-flex">
                <h2 class="title"><span> TOM 貓 </span>17-04-2023</h2>
                <div class="rating-row">
                  <ul>
                    <li class=""><i class="fa fa-star"></i></li>
                    <li class=""><i class="fa fa-star"></i></li>
                    <li class=""><i class="fa fa-star"></i></li>
                    <li class=""><i class="fa fa-star-o"></i></li>
                    <li class=""><i class="fa fa-star-o"></i></li>
                  </ul>
                </div>
              </div>
              <div class="description">
                這是一個非常好的住宿選擇！這間房間位於一個安靜的街區，但距離市中心只有幾分鐘的步行路程。房間非常乾淨整潔，裝潢簡潔現代化，床墊非常舒適，可以讓人得到良好的休息。浴室非常寬敞，設備也很新穎，提供的毛巾和盥洗用品也很棒。另外，房東人非常友善，提供了許多當地的旅遊建議和提示，幫助我們更好地了解當地文化和風土人情。
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 房型評論_end -->
  <!-- Footer_start -->
  <div id="footer"></div>
  <!-- Footer_end -->
  <!-- Modal_start -->
  <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h3 class="modal-title" id="exampleModalLabel">預訂頁面</h3>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <form action="/">
          <div class="modal-body">
            <div class="mb-3">
              <label for="exampleInputEmail1" class="form-label">房型名稱</label>
              <input type="text" class="form-control" id="memberName" name="memberName" disabled />

            </div>
            
            <div class="mb-3">
              <label for="exampleInputPassword1" class="form-label">姓名</label>
              <input type="text" class="form-control" id="payerName" name="payerName" />
            </div>
            <div class="mb-3">
              <label for="exampleInputPassword1" class="form-label">電話</label>
              <input type="text" class="form-control" id="payerPhone" name="payerPhone" />
            </div>

            <div class="d-flex">
              <div class="mb-3 w-100 margin-r-20">
                <label for="">入住日期：</label>
                <div class="form-group">
                  <div class="input-group date" id="date_start">
                    <input type="text" id="startDate" name="startDate" class="date-input" />
                  </div>
                </div>
              </div>
              <!-- <input id="datetimepicker" type="text"> -->
              <div class="mb-3 w-100 margin-l-20">
                <label for="">退房日期：</label>
                <div class="form-group">
                  <div class="input-group date" id="date_end">
                    <input type="text" id="endDate" name="endDate" class="date-input" />

                  </div>
                </div>
              </div>
            </div>
            <div class="d-flex">
              <div class="mb-3 w-100 margin-r-20">

                <label for="exampleInputPassword1 " class="form-label">寵物數量</label>
                <input type="number" min="0" id="pet" name="pet" required class="form-control" />
              </div>
              <div class="mb-3 w-100 margin-l-20">
                <label for="exampleInputPassword1" class="form-label">金額總計</label>
                <input type="Number" class="form-control" id="total" name="total" disabled />
              </div>
            </div>

            <div class="mb-3 form-check">
              <input type="checkbox" class="form-check-input" id="checkData" name="checkData" value="1" />
              <label class="form-check-label" for="exampleCheck1">確認上述資訊無誤!</label>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
              取消
            </button>

            <button type="submit" id="save" class="btn btn-primary" disabled>
              送出
            </button>
        </form>
      </div>
    </div>
  </div>
  </div>

  <!-- Modal_end -->

  <script>

    $(function () {
      var button = $("button");
      var name = $("input[name=name]");

      name.keyup(function () {
        if (name.val().length > 0) {
          button.addClass('active');
        } else {
          button.removeClass('active');
        }
      });
      var Data = '';
      $("form").submit(function (event) {
        event.preventDefault();
        //get the form data
        var url = location.href;
        let id = ''
        console.log(url)
        if (url.indexOf('?') != -1) {
          let ary1 = url.split('?');
          let ary2 = ary1[1].split('&');
          let ary3 = ary2[0].split('=');
          id = ary3[1];
          console.log(id)

        };
        var CheckInDate = $("input[name=startDate]").val();
        var CheckOutDate = $("input[name=endDate]").val();

        let roomCheckInDate = CheckInDate.split('/');
        let roomCheckOutDate = CheckOutDate.split('/');
        new_roomCheckInDate = `${roomCheckInDate[2]}-${roomCheckInDate[0]}-${roomCheckInDate[1]}`
        new_roomCheckOutDate = `${roomCheckOutDate[2]}-${roomCheckOutDate[0]}-${roomCheckOutDate[1]}`
        console.log(new_roomCheckOutDate)

        var formData2 = {
          memberId: '3',
          roomTypeId: id,
          totalOfPet: $("input[name=pet]").val(),
          roomCheckInDate: new_roomCheckInDate,
          roomCheckOutDate: new_roomCheckOutDate,
          payerName: $("input[name=payerName]").val(),
          payerPhone: $("input[name=payerPhone]").val(),
          roomTotalAmount: $("input[name=total]").val(),
          roomOrderStatus: "0",
          orderStatus: "1",
        };
        // console.log(formData1)
        console.log("formData2")
        console.log(formData2)

        // process the form
        $.ajax({
          type: "POST",
          url: "http://localhost:8081/roomorders",
          data: JSON.stringify(formData2),
          contentType: "application/json",
          encode: true
        }).done(function (data) {
          console.log(data)
          swal({
            type: "success",
            title: "預定成功~",
          });
          $('#exampleModal').modal('toggle');
        });
      });
    });

  </script>



  <!-- 引入 header / footer /scrollTop-->
  <script>
    $(function () {
      $("#header").load("../../header.html");可容納寵物數量
      $("#footer").load("../../footer.html");
      $("#scrollTop").load("../../scrollTop.html");
    });
  </script>
  <!-- Ａos 淡入淡出特效_start -->
  <script type="module">
    function refresh_chart(str_cameo_motion_component_tag_name) {
      console.log("str_cameo_motion_component_tag_name");
      console.log(str_cameo_motion_component_tag_name);
      let cameo_motion_component = document.getElementsByTagName(
        str_cameo_motion_component_tag_name
      )[0];
      console.log("cameo_motion_component");
      console.log(cameo_motion_component);
      console.log("cameo_motion_component.chart");
      console.log(cameo_motion_component.chart);
      cameo_motion_component.chart.appear();
      cameo_motion_component.chart.series.each(function (series) {
        series.appear();
      });
    }

    AOS.init({
      duration: 1000, // values from 0 to 3000, with step 50ms
      offset: 90, // offset (in px) from the original trigger point
    });
    $(function () {
      var winHeight = $(window).height();
      $(".scrolldown").on("click", function () {
        $("html,body").stop(true, false).animate(
          {
            scrollTop: winHeight,
          },
          800
        );
        return false;
      });
    });
    let ary_charts = [
      "cameo-divergent-stacked-bars",
      "cameo-run",
      "cameo-line",
      "cameo-rank",
      "cameo-multi-axis-prediction",
      "cameo-map-tw",
    ];
    for (let i = 1; i <= ary_charts.length; i++) {
      let str_aos = "aos:in:chart-" + i;
      document.addEventListener(str_aos, ({ detail }) => {
        refresh_chart(ary_charts[i - 1]);
      });
    }
  </script>
  <!-- Ａos 淡入淡出特效_end -->
  <!-- jquery -->
  <script src="../../js/jquery-3.2.1.min.js"></script>
  <!-- bootstrap -->
  <script src="../../styles/bootstrap4/popper.js"></script>
  <script src="../../styles/bootstrap4/bootstrap.min.js"></script>
  <!-- 輪播 -->
  <script src="../../plugins/OwlCarousel2-2.2.1/owl.carousel.js"></script>
  <!-- SweetAlert2 -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.2.0/sweetalert2.all.min.js"></script>
  <!-- AOS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/3.0.0-beta.6/aos.js"
    integrity="sha512-tnNM6PPNOVfZ5sGPw6hThCrcUBeqt2mVEk3EAj8tCtuMHqbuVm5/HsZagrr8W2aaFE+6rKIByGwQbEnmodrYVg=="
    crossorigin="anonymous"></script>
  <!-- model -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
    integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
    crossorigin="anonymous"></script>

  <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
  <script src="https://code.jquery.com/ui/1.10.4/jquery-ui.js"></script>


  <!-- datepicker end-->

  <!-- 運定選擇 -->
  <!-- <script src="../../js/custom.js"></script> -->
  <script src="../../js/single_custom.js"></script>


  <script>


    $(document).on("click", ".imgCard", function () {
      if ($(".single_product_thumbnails ul li").length) {
        var thumbs = $(".single_product_thumbnails ul li");
        var singleImage = $("#single_product_image_background");

        thumbs.each(function () {
          var item = $(this);
          item.on("click", function () {
            thumbs.removeClass("active");
            item.addClass("active");
            var img = item.find("img")[0].currentSrc;
            singleImage.css("background-image", "url(" + img + ")");
          });
        });
      }
    });
    var roomName = '';
    var totalCount = 0;
    $(function () {
      var url = location.href;
      let id = ''
      console.log(url)
      if (url.indexOf('?') != -1) {
        let ary1 = url.split('?');
        let ary2 = ary1[1].split('&');
        let ary3 = ary2[0].split('=');
        id = ary3[1];
        console.log(id)

      };
      $.ajax({
        type: "GET",
        url: `http://localhost:8081/roomorderDate/${id}`,
        dataType: "json",
        encode: true
      }).done(function (data) {
        let dataStr = [];
        for (let i = 0; i < data.length; i++) {
          console.log(data[i].beginDate)
          dataStr.push(new Date(data[i].beginDate.split('-')).getTime());
          dataStr.push(new Date(data[i].lastDayOfMonth.split('-')).getTime());
        }
        holiday = dataStr;
      }).fail(function (error) {
        console.log(error);

      });
      

      $.ajax({
        type: "GET",
        url: `http://localhost:8081/petrooms/${id}`,
        dataType: "json",
        encode: true
      }).done(function (data) {
        console.log(data);
        totalCount = data.roomPrice;
        $(".detailImg").append(`<li class="active imgCard"><img src="data:;base64,${data.roomPic1}" alt="" data-image="http://localhost:8080/image1/1"style="width: 100%; height: 100%; object-fit: cover" /></li>`)
        $(".detailImg").append(`<li class="imgCard"><img src="data:;base64,${data.roomPic2}" alt="" data-image="http://localhost:8080/image1/1"style="width: 100%; height: 100%; object-fit: cover" /></li>`)
        $(".detailImg").append(`<li class="imgCard"><img src="data:;base64,${data.roomPic3}" alt="" data-image="http://localhost:8080/image1/1"style="width: 100%; height: 100%; object-fit: cover" /></li>`)
        $(".single_product_image").append(`<div id="single_product_image_background" class="single_product_image_background" style="background-image: url(data:;base64,${data.roomPic1})"></div>`)
        $(".product_details_title").append(`<h2>${data.roomName}</h2><p>${data.roomDescription}</p>`)
        $(".detail_price").append(`<div class="product_price">$${data.roomPrice}</div>`)
        $("#roomTypeId").val(data.roomTypeId);
        $("#memberName").val(data.roomName);
        $("#pet").attr("max", data.petNumber);
        console.log(data.roomName);
        roomName = data.roomName;
        // var yyyy = new Date().getFullYear();
        $.ajax({
          type: "GET",
          url: `http://localhost:8081/room/like/count?roomName=${data.roomName}`,
          dataType: "json",
          encode: true
        }).done(function (data) {
          console.log(data);
          console.log(123);

          $(".likeText").append(data)
        }).fail(function (error) {
          console.log(error);

        });
      }).fail(function (error) {
        console.log(error);

      });

    });
  </script>
  <script>
    var yyyy = new Date().getFullYear();
    // var tommorrow = new Date().getDate() + 1;
    var holiday = [];
    console.log(holiday)

    $('#startDate').datepicker({

      // dateFormat: "yy-mm-dd",
      minDate: new Date(),
      beforeShowDay: function (date) {
        var showDay = true;
        // if (date.getDay() == 0 || date.getDay() == 6) {
        //   showDay = false;
        // }
        // menggunakan fungsi jquery inArray
        if ($.inArray(date.getTime(), holiday) > -1) {
          showDay = false;
        }
        return [showDay];
      }
    });
    $(document).on("change", "#pet", function () {
      console.log($("#pet").val())
      var petNum = $("#pet").val();
      var start = new Date($("#startDate").val());
      var end = new Date($("#endDate").val());
      var dif = end.getTime() - start.getTime();
      var day = Math.floor(dif / (1000 * 60 * 60 * 24));
      var count = day * petNum * totalCount;
      $("#total").val(count);
      console.log(day)
    })
    $(document).on("change", "#startDate", function () {
      var petNum = $("#pet").val();
      var start = new Date($("#startDate").val());
      var end = new Date($("#endDate").val());
      var dif = end.getTime() - start.getTime();
      var day = Math.floor(dif / (1000 * 60 * 60 * 24));
      var count = day * petNum * totalCount;
      $("#total").val(count);
      console.log(day)
    })
    $(document).on("change", "#endDate", function () {
      var petNum = $("#pet").val();
      var start = new Date($("#startDate").val());
      var end = new Date($("#endDate").val());
      var dif = end.getTime() - start.getTime();
      var day = Math.floor(dif / (1000 * 60 * 60 * 24));
      var count = day * petNum * totalCount;
      $("#total").val(count);

      console.log(day)
    })

    $('#endDate').datepicker({

      // dateFormat: "yy-mm-dd",
      minDate: new Date(),
      beforeShowDay: function (date) {
        var showDay = true;
        // if (date.getDay() == 0 || date.getDay() == 6) {
        //   showDay = false;
        // }
        // menggunakan fungsi jquery inArray
        if ($.inArray(date.getTime(), holiday) > -1) {
          showDay = false;
        }
        return [showDay];
      }
    });

    $(document).on("click", "#likeRoom", function () {
      $.ajax({
        type: "GET",
        url: `http://localhost:8081/room/like?roomName=${roomName}&memberId=${4}`,
        dataType: "json",
        encode: true
      }).done(function (data) {
        swal({
          type: "success",
          title: "按讚成功~",
        });
      }).fail(function (error) {
        console.log(error);
        swal({
          type: 'error',
          title: "點讚失敗(你重複按讚囉)!",
        });
      });
    })

  </script>

<script>
  $(document).on("click", "#checkData", function () {
   if($("input[name=checkData]:checked").val()){
     $("#save").attr( 'disabled',false )
   }else{
     $("#save").attr( 'disabled',true )
   }
 })
</script>

<!-- 手機號碼判斷 -->
<script>
  const phoneInput = document.getElementById('payerPhone');
  phoneInput.addEventListener('input', function() {
      const phone = this.value.trim();
      const isNumber = /^\d+$/.test(phone);
      const isNotTooLong = phone.length <= 10;
      if (!isNumber || !isNotTooLong) {
          this.setCustomValidity('請輸入10位以內的電話號碼，且只能輸入數字');
      } else {
          this.setCustomValidity('');
      }
  });
</script>

<footer class="footer bg-yellow">
  <div class="container">
    <div class="row">
      <div class="col-lg-6">
        <div class="footer_nav_container d-flex flex-sm-row flex-column align-items-center justify-content-lg-start justify-content-center text-center">
          <ul class="footer_nav">
            <li><a href="#">討論區</a></li>
            <li><a href="#">FAQs</a></li>
            <li><a href="contact.html">聯絡我們</a></li>
          </ul>
        </div>
      </div>
      <div class="col-lg-6">
        <div class="footer_social d-flex flex-row align-items-center justify-content-lg-end justify-content-center">
          <ul>
            <li><a href="#"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
            <li><a href="#"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
            <li><a href="#"><i class="fa fa-instagram" aria-hidden="true"></i></a></li>
            <li><a href="#"><i class="fa fa-skype" aria-hidden="true"></i></a></li>
            <li><a href="#"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-12">
        <div class="footer_nav_container">
          <div class="cr">©2022 All Rights Reserverd. Template by <a href="#">Colorlib</a> &amp; distributed by <a href="https://themewagon.com">Tibame TGA-105 第四組</a></div>
        </div>
      </div>
    </div>
  </div>
</footer>

</body>

</html>